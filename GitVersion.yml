workflow: TrunkBased/preview1

# Start point when not using tags.
next-version: 1.0.0

# Ignore tags by excluding the TaggedCommit strategy.
strategies:
  - Fallback
  - ConfiguredNextVersion
  - MergeMessage
  - VersionInBranchName
  - Mainline
# Supports Conventional Commits + optional +semver overrides:
# - feat: / feat(scope):  -> minor
# - fix:  / fix(scope):   -> patch
# - type!: / BREAKING CHANGE -> major
major-version-bump-message: '(?i)(\+semver:\s?(breaking|major)|^(\w+)(\([^)]+\))?!:|BREAKING CHANGE)'
minor-version-bump-message: '(?i)(\+semver:\s?(feature|minor)|^feat(\([^)]+\))?:)'
patch-version-bump-message: '(?i)(\+semver:\s?(fix|patch)|^fix(\([^)]+\))?:)'
commit-message-incrementing: Enabled
branches:
  main:
    regex: ^main$
    increment: None
    is-main-branch: true
  develop:
    regex: ^develop$
    increment: None
  feature:
    regex: ^feature[/-]|^features[/-]|^copilot[/-]
    increment: Inherit
    source-branches: ['main', 'develop']
ignore:
  sha: []
